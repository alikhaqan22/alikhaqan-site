<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ali Khaqan - Interactive Portfolio Game</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Courier New',monospace;background:#5C94FC;overflow:hidden}

    .game-screen{width:100vw;height:100vh;position:relative;background:linear-gradient(180deg,#5C94FC 0%,#87CEEB 50%,#98FB98 100%);overflow:hidden}
    .game-world{position:absolute;width:1600px;height:1000px;background:linear-gradient(180deg,#5C94FC 0%,#87CEEB 30%,#98FB98 60%,#32CD32 100%);transition:transform .1s ease}

    /* Clouds */
    .cloud{position:absolute;background:#fff;border-radius:50px;animation:cloudFloat 20s linear infinite}
    .cloud1{width:80px;height:40px;top:5%;left:10%;animation-delay:0s}
    .cloud2{width:100px;height:50px;top:8%;left:40%;animation-delay:-5s}
    .cloud3{width:70px;height:35px;top:12%;left:70%;animation-delay:-10s}
    .cloud4{width:90px;height:45px;top:6%;left:85%;animation-delay:-15s}
    @keyframes cloudFloat{0%{transform:translateX(0)}100%{transform:translateX(-100px)}}

    /* Blocks */
    .brick-block{position:absolute;width:40px;height:40px;background:#D2691E;border:2px solid #8B4513;background-image:linear-gradient(45deg,#CD853F 25%,transparent 25%),linear-gradient(-45deg,#CD853F 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#CD853F 75%),linear-gradient(-45deg,transparent 75%,#CD853F 75%);background-size:8px 8px}
    .question-block{position:absolute;width:40px;height:40px;background:#FFD700;border:2px solid #FFA500;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:bold;color:#FF8C00;animation:questionPulse 1.5s ease-in-out infinite}
    @keyframes questionPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}

    /* Pipes */
    .pipe{position:absolute;background:#228B22;border:3px solid #006400;border-radius:15px 15px 0 0}
    .pipe-small{width:60px;height:80px}
    .pipe-medium{width:60px;height:120px}
    .pipe-large{width:60px;height:160px}
    .pipe::before{content:'';position:absolute;top:-8px;left:-8px;right:-8px;height:20px;background:#228B22;border:3px solid #006400;border-radius:8px}

    /* Bushes & trees */
    .bush{position:absolute;width:80px;height:40px;background:#228B22;border-radius:40px;border:2px solid #006400}
    .bush::before{content:'';position:absolute;left:20px;top:-15px;width:40px;height:30px;background:#228B22;border-radius:20px;border:2px solid #006400}
    .mario-tree{position:absolute;width:20px;height:60px;background:#8B4513;border:2px solid #654321}
    .mario-tree::before{content:'';position:absolute;top:-30px;left:50%;transform:translateX(-50%);width:60px;height:50px;background:#228B22;border-radius:50%;border:2px solid #006400}

    /* Coins */
    .coin{position:absolute;width:25px;height:25px;background:#FFD700;border:2px solid #FFA500;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:bold;color:#FF8C00;animation:coinSpin 2s linear infinite}
    @keyframes coinSpin{0%{transform:rotateY(0)}100%{transform:rotateY(360deg)}}

    /* Goombas */
    .goomba{position:absolute;width:30px;height:30px;background:#8B4513;border-radius:50% 50% 0 0;border:2px solid #654321;animation:goombaWalk 3s ease-in-out infinite}
    .goomba::before{content:'• •';position:absolute;top:8px;left:50%;transform:translateX(-50%);font-size:10px;color:#000}
    @keyframes goombaWalk{0%,100%{transform:translateX(0)}50%{transform:translateX(20px)}}

    /* Flowers */
    .super-flower{position:absolute;width:30px;height:40px;animation:flowerSway 3s ease-in-out infinite}
    .super-flower::before{content:'🌸';font-size:25px;position:absolute;top:0;left:0}
    @keyframes flowerSway{0%,100%{transform:rotate(0)}50%{transform:rotate(10deg)}}

    /* UI Overlay */
    .ui-overlay{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000}
    .ui-header{position:absolute;top:20px;left:20px;color:#fff;text-shadow:3px 3px 0 #000;pointer-events:all}
    .ui-title{font-size:2rem;font-weight:bold;margin-bottom:5px}
    .ui-subtitle{font-size:1.1rem;opacity:.9}

    .menu-buttons{position:absolute;top:20px;right:20px;display:flex;gap:15px;pointer-events:all}
    .menu-btn{background:#4169E1;color:#fff;border:3px solid #fff;padding:12px 20px;font-family:'Courier New',monospace;font-size:1rem;font-weight:bold;cursor:pointer;border-radius:8px;transition:all .2s ease}
    .menu-btn:hover{background:#FF6B35;transform:scale(1.05)}

    /* Character */
    .character{position:absolute;width:40px;height:48px;z-index:100}
    .character-body{width:100%;height:100%;background:linear-gradient(180deg,#FFE4B5 0%,#FFE4B5 40%,#4169E1 40%,#4169E1 70%,#0000FF 70%,#0000FF 100%);border:2px solid #000;border-radius:20px 20px 8px 8px;position:relative}
    .character-face{position:absolute;top:8px;left:50%;transform:translateX(-50%)}
    .character-eyes{width:4px;height:4px;background:#000;border-radius:50%;position:relative}
    .character-eyes::after{content:'';position:absolute;left:8px;top:0;width:4px;height:4px;background:#000;border-radius:50%}
    .character-mouth{position:absolute;top:10px;left:50%;transform:translateX(-50%);width:6px;height:3px;background:#000;border-radius:0 0 6px 6px}
    .character-hat{position:absolute;top:-5px;left:50%;transform:translateX(-50%);width:30px;height:15px;background:#4169E1;border-radius:15px 15px 0 0;border:2px solid #000}

    .dialogue-box{position:absolute;bottom:60px;left:50%;transform:translateX(-50%);width:85%;max-width:700px;background:rgba(255,255,255,.95);border:4px solid #000;border-radius:15px;padding:25px;font-size:1.2rem;z-index:200;display:none;pointer-events:all;box-shadow:0 10px 30px rgba(0,0,0,.5)}
    .dialogue-box.active{display:block;animation:slideUp .3s ease}
    @keyframes slideUp{from{transform:translateX(-50%) translateY(100px);opacity:0}to{transform:translateX(-50%) translateY(0);opacity:1}}
    .dialogue-text{margin-bottom:20px;line-height:1.5;color:#333}
    .dialogue-options{display:flex;gap:15px;flex-wrap:wrap;justify-content:center}
    .dialogue-option{background:#32CD32;color:#fff;border:3px solid #228B22;padding:12px 20px;border-radius:8px;cursor:pointer;font-family:'Courier New',monospace;font-weight:bold;transition:all .2s ease}
    .dialogue-option:hover{background:#FF6B35;border-color:#D2691E;transform:scale(1.05)}

    .interactive-object{position:absolute;cursor:pointer;transition:all .2s ease;filter:drop-shadow(0 0 10px rgba(255,255,255,.7))}
    .interactive-object:hover{transform:scale(1.1);filter:drop-shadow(0 0 20px rgba(255,255,0,1))}

    .computer{width:50px;height:40px;background:#696969;border:3px solid #000;border-radius:8px;position:relative}
    .computer::before{content:'💻';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:24px}

    .tree{width:25px;height:60px;background:#8B4513;position:relative;border-radius:0 0 8px 8px}
    .tree::before{content:'🌳';position:absolute;top:-35px;left:50%;transform:translateX(-50%);font-size:40px}

    .controls-help{position:absolute;bottom:20px;right:20px;background:rgba(0,0,0,.8);color:#fff;padding:20px;border-radius:12px;font-size:1rem;pointer-events:all;border:2px solid #4169E1}

    /* Mobile controls */
    .mobile-controls{position:fixed;bottom:20px;left:20px;display:none;pointer-events:all;z-index:1001}
    .mobile-dpad{position:relative;width:120px;height:120px}
    .mobile-btn{position:absolute;width:40px;height:40px;background:rgba(65,105,225,.8);border:2px solid #fff;border-radius:8px;color:#fff;font-size:18px;font-weight:bold;cursor:pointer;user-select:none;display:flex;align-items:center;justify-content:center}
    .mobile-btn:active{background:rgba(255,107,53,.8);transform:scale(.95)}
    .btn-up{top:0;left:40px}.btn-down{bottom:0;left:40px}.btn-left{top:40px;left:0}.btn-right{top:40px;right:0}

    .modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);z-index:1000;display:none;align-items:center;justify-content:center;pointer-events:all}
    .modal.active{display:flex;animation:fadeIn .3s ease}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    .modal-content{background:#fff;max-width:90%;max-height:90%;overflow-y:auto;border-radius:15px;position:relative;border:4px solid #4169E1}
    .modal-close{position:absolute;top:15px;right:20px;font-size:2rem;cursor:pointer;color:#999;z-index:1001;background:#fff;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:2px solid #ddd}
    .modal-close:hover{color:#ff4444;background:#ffeeee}

    .cv-content,.about-content{padding:50px;font-family:'Arial',sans-serif;line-height:1.8;font-size:1.1rem}
    .cv-header{text-align:center;margin-bottom:40px;padding-bottom:25px;border-bottom:3px solid #4169E1}
    .cv-section{margin-bottom:30px;padding:20px;background:rgba(65,105,225,.05);border-radius:10px;border-left:5px solid #4169E1}
    .cv-section h3{color:#4169E1;font-size:1.4rem;margin-bottom:15px}

    /* Social dock (always visible) */
    .social-dock{position:absolute;top:20px;left:260px;display:flex;gap:10px;pointer-events:all;z-index:1100}
    .social-dock a{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:10px;border:2px solid #fff;color:#fff;text-decoration:none}
    .social-dock .ig{background:linear-gradient(45deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)}
    .social-dock .tt{background:#000}
    .social-dock .li{background:linear-gradient(45deg,#0077b5,#00a0dc)}
    .social-dock svg{width:22px;height:22px;fill:#fff}
    .social-dock .email{background:#222}

    .hud{position:absolute;top:20px;left:460px;color:#fff;pointer-events:none;text-shadow:2px 2px 0 #000;font-weight:bold}
    .hud .coin-icon{display:inline-block;width:22px;height:22px;background:#FFD700;border:2px solid #FFA500;border-radius:50%;vertical-align:middle;margin-right:8px}

    .hidden{display:none !important}

    @media(max-width:768px){
      .mobile-controls{display:block}
      .controls-help{display:none}
      .ui-title{font-size:1.5rem}
      .ui-subtitle{font-size:1rem}
      .menu-btn{font-size:.9rem;padding:10px 15px}
      .dialogue-box{width:95%;font-size:1rem;padding:20px}
      .cv-content,.about-content{padding:25px}
      .social-dock{left:10px;right:10px;gap:8px;top:70px;flex-wrap:wrap}
      .social-dock a{width:48px;height:48px}
      .hud{left:20px;top:20px}
    }
  </style>
</head>
<body>
  <div class="game-screen">
    <div class="game-world" id="gameWorld">
      <!-- Clouds -->
      <div class="cloud cloud1"></div><div class="cloud cloud2"></div><div class="cloud cloud3"></div><div class="cloud cloud4"></div>

      <!-- Blocks and platforms (SOLID) -->
      <div class="brick-block solid" style="left:200px; top:400px;"></div>
      <div class="brick-block solid" style="left:240px; top:400px;"></div>
      <div class="brick-block solid" style="left:280px; top:400px;"></div>
      <div class="question-block solid" style="left:320px; top:360px;">?</div>
      <div class="brick-block solid" style="left:360px; top:400px;"></div>

      <div class="brick-block solid" style="left:800px; top:500px;"></div>
      <div class="question-block solid" style="left:840px; top:460px;">?</div>
      <div class="brick-block solid" style="left:880px; top:500px;"></div>

      <!-- Pipes (SOLID) -->
      <div class="pipe pipe-small solid" style="left:150px; top:650px;"></div>
      <div class="pipe pipe-medium solid" style="left:600px; top:610px;"></div>
      <div class="pipe pipe-large solid" style="left:1100px; top:570px;"></div>

      <!-- Bushes & Trees (SOLID) -->
      <div class="bush solid" style="left:100px; top:680px;"></div>
      <div class="bush solid" style="left:400px; top:680px;"></div>
      <div class="bush solid" style="left:900px; top:680px;"></div>
      <div class="mario-tree solid" style="left:50px; top:640px;"></div>
      <div class="mario-tree solid" style="left:750px; top:640px;"></div>
      <div class="mario-tree solid" style="left:1200px; top:640px;"></div>

      <!-- Coins (collectible) -->
      <div class="coin" style="left:250px; top:300px;">€</div>
      <div class="coin" style="left:300px; top:250px;">€</div>
      <div class="coin" style="left:350px; top:300px;">€</div>
      <div class="coin" style="left:650px; top:400px;">€</div>
      <div class="coin" style="left:950px; top:350px;">€</div>

      <!-- Goombas (SOLID) -->
      <div class="goomba solid" style="left:500px; top:670px;"></div>
      <div class="goomba solid" style="left:1000px; top:670px;"></div>

      <!-- Flowers -->
      <div class="super-flower" style="left:80px; top:600px;"></div>
      <div class="super-flower" style="left:450px; top:600px;"></div>
      <div class="super-flower" style="left:800px; top:600px;"></div>
      <div class="super-flower" style="left:1150px; top:600px;"></div>

      <!-- Character (original look) -->
      <div class="character" id="character" style="left:300px; top:500px;">
        <div class="character-hat"></div>
        <div class="character-body">
          <div class="character-face">
            <div class="character-eyes"></div>
            <div class="character-mouth"></div>
          </div>
        </div>
      </div>

      <!-- Interactive Objects -->
      <div class="interactive-object computer solid" id="cvComputer" style="left:400px; top:300px;" data-type="cv"></div>

      <!-- Social media zone (in world) -->
      <div class="social-media-zone" style="position:absolute; left:950px; top:150px; width:200px;">
        <div class="interactive-object social-icon instagram" id="instagram" style="position:relative; left:0; top:0; margin-bottom:20px;" data-type="social" data-platform="instagram" data-name="INSTAGRAM">
          <svg width="24" height="24" viewBox="0 0 24 24"><path fill="#fff" d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0 3.675a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zm7.846-.358a1.44 1.44 0 11-2.88 0 1.44 1.44 0 012.88 0z"/></svg>
        </div>
        <div class="interactive-object social-icon tiktok" id="tiktok" style="position:relative; left:60px; top:-65px; margin-bottom:20px;" data-type="social" data-platform="tiktok" data-name="TIKTOK">
          <svg width="24" height="24" viewBox="0 0 24 24"><path fill="#fff" d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-.88-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"/></svg>
        </div>
        <div class="interactive-object social-icon linkedin" id="linkedin" style="position:relative; left:120px; top:-130px; margin-bottom:20px;" data-type="social" data-platform="linkedin" data-name="LINKEDIN">
          <svg width="24" height="24" viewBox="0 0 24 24"><path fill="#fff" d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
        </div>
      </div>

      <div class="interactive-object tree solid" id="aboutTree" style="left:1000px; top:500px;" data-type="about"></div>
    </div>

    <!-- UI Overlay -->
    <div class="ui-overlay">
      <div class="ui-header">
        <div class="ui-title">ALI KHAQAN</div>
        <div class="ui-subtitle">STRATEGIC PORTFOLIO WORLD</div>
      </div>
      <div class="menu-buttons">
        <button class="menu-btn" id="menuBtn">📋 MENU</button>
        <button class="menu-btn" id="mapBtn">❓ HELP</button>
      </div>

      <!-- Always-visible Social Dock -->
      <div class="social-dock">
        <a class="ig" href="https://www.instagram.com/itsalikhaqan" target="_blank" title="Instagram" aria-label="Instagram">
          <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0 3.675a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zm7.846-.358a1.44 1.44 0 11-2.88 0 1.44 1.44 0 012.88 0z" fill="#fff"/></svg>
        </a>
        <a class="tt" href="https://www.tiktok.com/@itsalikhaqan" target="_blank" title="TikTok" aria-label="TikTok">
          <svg viewBox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-.88-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z" fill="#fff"/></svg>
        </a>
        <a class="li" href="https://www.linkedin.com/in/ali-khaqan/" target="_blank" title="LinkedIn" aria-label="LinkedIn">
          <svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" fill="#fff"/></svg>
        </a>
        <a class="email" href="mailto:alikhaqan22@gmail.com" title="Email Ali" aria-label="Email">
          <svg viewBox="0 0 24 24"><path d="M2 6h20v12H2z" fill="none" stroke="#fff" stroke-width="2"/><path d="M2 6l10 7L22 6" fill="none" stroke="#fff" stroke-width="2"/></svg>
        </a>
        <!-- Download button intentionally removed; available inside CV modal -->
      </div>

      <!-- HUD coin counter -->
      <div class="hud"><span class="coin-icon"></span><span id="coinCount">0</span></div>

      <div class="controls-help" id="controlsHelp">
        <div><strong>🎮 CONTROLS:</strong></div>
        <div><strong>Arrow Keys ←↑↓→</strong> - Move around</div>
        <div><strong>Click objects</strong> - Interact</div>
        <div><strong>ESC</strong> - Close windows</div>
        <div><strong>💡 Tip:</strong> Get close for easier interaction!</div>
      </div>

      <!-- Mobile Controls -->
      <div class="mobile-controls" id="mobileControls">
        <div class="mobile-dpad">
          <div class="mobile-btn btn-up" data-direction="up">↑</div>
          <div class="mobile-btn btn-down" data-direction="down">↓</div>
          <div class="mobile-btn btn-left" data-direction="left">←</div>
          <div class="mobile-btn btn-right" data-direction="right">→</div>
        </div>
      </div>
    </div>

    <!-- Dialogue System -->
    <div class="dialogue-box" id="dialogueBox">
      <div class="dialogue-text" id="dialogueText"></div>
      <div class="dialogue-options" id="dialogueOptions"></div>
    </div>
  </div>

  <!-- CV Modal -->
  <div class="modal" id="cvModal">
    <div class="modal-content">
      <span class="modal-close" onclick="closeModal('cvModal')">&times;</span>
      <div class="cv-content">
        <div class="cv-header">
          <img src="/mnt/data/IMG_8843.jpg" alt="Ali Khaqan" style="width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid #4169E1;margin-bottom:10px;"/>
          <h1>Ali Khaqan</h1>
          <h2>Strategic Assistant to the CEO | ESG, AI & Analytics</h2>
          <p>📧 <a href="mailto:alikhaqan22@gmail.com">alikhaqan22@gmail.com</a> | 📱 +4917676194593 | 📍 Künzelsau, Germany</p>
          <p>🌐 LinkedIn: <a href="https://www.linkedin.com/in/ali-khaqan/" target="_blank">linkedin.com/in/ali-khaqan</a> | 📸 Instagram: <a href="https://www.instagram.com/itsalikhaqan" target="_blank">@itsalikhaqan</a> | 🎵 TikTok: <a href="https://www.tiktok.com/@itsalikhaqan" target="_blank">@itsalikhaqan</a></p>
          <p><strong>Status:</strong> Pakistani with German PR (Niederlassungserlaubnis)</p>
          <p><strong>Languages:</strong> English (Fluent), German (B1 — improving thanks to my wife, a native German speaker)</p>
          <p><a href="/mnt/data/Ali_CV_2025.pdf" download>⬇️ Download full CV (PDF)</a></p>
        </div>
        <div class="cv-section">
          <h3>🎯 Professional Summary</h3>
          <p>Strategic operator across ESG, AI and compliance — connecting executive vision with data‑driven execution in manufacturing and automotive electronics. Permanent resident in Germany with extensive experience driving transformation and measurable results across operations, sustainability, and data products.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Awards Modal -->
  <div class="modal" id="awardsModal">
    <div class="modal-content">
      <span class="modal-close" onclick="closeModal('awardsModal')">&times;</span>
      <div class="cv-content">
        <div class="cv-header"><h2>🏆 Awards & Recognitions</h2></div>
        <div class="cv-section">
          <ul>
            <li>CEO’s Appreciation Award – Würth Elektronik ICS (impact across ESG, AI, compliance).</li>
            <li>Selected for Würth Potential Program (global high‑potential leadership initiative).</li>
            <li>Winner – NASA International Space Settlement Design Competition (Kennedy Space Center, USA).</li>
            <li>Full merit‑based scholarship (€59,000) – Bilkent University (tuition + accommodation).</li>
            <li>Social Activities & Awareness Award (2021) – Founded and led “Humans of Bilkent”.</li>
            <li>Panel Speaker – TUM Career Factory 2024 (advised 200+ students).</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Skills Modal -->
  <div class="modal" id="skillsModal">
    <div class="modal-content">
      <span class="modal-close" onclick="closeModal('skillsModal')">&times;</span>
      <div class="cv-content">
        <div class="cv-header"><h2>🧰 Core Skills</h2></div>
        <div class="cv-section">
          <strong>Data & AI:</strong> Python, SQL, Machine Learning, Generative AI, Data Analytics, Power BI<br/>
          <strong>Business & Strategy:</strong> Product Management, Financial Analysis, Use‑Case Development, Project Management<br/>
          <strong>Tooling:</strong> SAP, ABAS ERP, Jira, Polarion, MDS/GRI Reporting, Microsoft Excel/PowerPoint, MATLAB, C++
        </div>
      </div>
    </div>
  </div>

  <script>
    // --- Game state
    let gameState = {
      character: { x:300, y:500, speed:5, w:40, h:48 },
      camera: { x:0, y:0 },
      world: { width:1600, height:1000 },
      screen: { width: window.innerWidth, height: window.innerHeight },
      keys: {},
      dialogueActive: false,
      coins: 0
    };
    let solids = [];

    function initGame(){
      gameState.screen.width = window.innerWidth;
      gameState.screen.height = window.innerHeight;

      document.addEventListener('keydown', handleKeyDown);
      document.addEventListener('keyup', handleKeyUp);
      document.addEventListener('click', handleClick);
      window.addEventListener('resize', handleResize);

      document.querySelectorAll('.mobile-btn').forEach(btn=>{
        btn.addEventListener('touchstart', handleMobileInput);
        btn.addEventListener('mousedown', handleMobileInput);
      });
      document.querySelectorAll('.interactive-object').forEach(obj=>obj.addEventListener('click', handleObjectClick));

      document.getElementById('menuBtn').addEventListener('click', showMenu);
      document.getElementById('mapBtn').addEventListener('click', showHelp);

      solids = Array.from(document.querySelectorAll('.solid'));

      updateCharacterPosition();
      updateCamera();
      requestAnimationFrame(gameLoop);
    }

    function handleKeyDown(e){ gameState.keys[e.key] = true; if(e.key==='Escape') closeAllModals(); }
    function handleKeyUp(e){ gameState.keys[e.key] = false; }
    function handleMobileInput(e){ e.preventDefault(); moveCharacter(e.target.dataset.direction); }
    function handleClick(e){ if(gameState.dialogueActive && !e.target.closest('.dialogue-box') && !e.target.closest('.menu-btn')) closeDialogue(); }
    function handleResize(){ gameState.screen.width = window.innerWidth; gameState.screen.height = window.innerHeight; }

    function updateCharacter(){
      if(gameState.dialogueActive) return;
      const c = gameState.character; let nx=c.x, ny=c.y; let moved=false;
      if(gameState.keys['ArrowLeft']||gameState.keys['a']||gameState.keys['A']){ nx=Math.max(0,nx-c.speed); moved=true; }
      if(gameState.keys['ArrowRight']||gameState.keys['d']||gameState.keys['D']){ nx=Math.min(gameState.world.width-c.w,nx+c.speed); moved=true; }
      ({x:nx,y:ny}=tryMove(nx,c.y));
      if(gameState.keys['ArrowUp']||gameState.keys['w']||gameState.keys['W']){ ny=Math.max(0,c.y-c.speed); moved=true; }
      if(gameState.keys['ArrowDown']||gameState.keys['s']||gameState.keys['S']){ ny=Math.min(gameState.world.height-c.h,c.y+c.speed); moved=true; }
      ({x:nx,y:ny}=tryMove(nx,ny));
      c.x=nx; c.y=ny; if(moved){ updateCharacterPosition(); updateCamera(); checkCoinPickup(); }
    }

    function moveCharacter(direction){ if(gameState.dialogueActive) return; const c=gameState.character; let step=c.speed*2; let nx=c.x, ny=c.y; if(direction==='left') nx=Math.max(0,nx-step); if(direction==='right') nx=Math.min(gameState.world.width-c.w,nx+step); ({x:nx,y:ny}=tryMove(nx,ny)); if(direction==='up') ny=Math.max(0,c.y-step); if(direction==='down') ny=Math.min(gameState.world.height-c.h,c.y+step); ({x:nx,y:ny}=tryMove(nx,ny)); c.x=nx;c.y=ny; updateCharacterPosition(); updateCamera(); checkCoinPickup(); }

    function tryMove(tx,ty){ const c=gameState.character; const box={x:tx,y:ty,w:c.w,h:c.h}; for(const el of solids){ const sb=getWorldBox(el); if(aabbIntersect(box,sb)){ const prev={x:gameState.character.x,y:gameState.character.y,w:c.w,h:c.h}; if(prev.y+prev.h>sb.y && prev.y<sb.y+sb.h){ if(prev.x+prev.w<=sb.x && box.x+box.w>sb.x){ box.x=sb.x-c.w; } else if(prev.x>=sb.x+sb.w && box.x<sb.x+sb.w){ box.x=sb.x+sb.w; } } if(prev.x+prev.w>sb.x && prev.x<sb.x+sb.w){ if(prev.y+prev.h<=sb.y && box.y+box.h>sb.y){ box.y=sb.y-c.h; } else if(prev.y>=sb.y+sb.h && box.y<sb.y+sb.h){ box.y=sb.y+sb.h; } } } } box.x=Math.max(0,Math.min(gameState.world.width-c.w,box.x)); box.y=Math.max(0,Math.min(gameState.world.height-c.h,box.y)); return {x:box.x,y:box.y}; }

    function aabbIntersect(a,b){ return a.x<b.x+b.w && a.x+a.w>b.x && a.y<b.y+b.h && a.y+a.h>b.y; }
    function getWorldBox(el){ return { x:el.offsetLeft, y:el.offsetTop, w:el.offsetWidth, h:el.offsetHeight }; }

    function updateCharacterPosition(){ const el=document.getElementById('character'); if(!el) return; el.style.left=gameState.character.x+'px'; el.style.top=gameState.character.y+'px'; }
    function updateCamera(){ const c=gameState.character,s=gameState.screen; gameState.camera.x=c.x - s.width/2; gameState.camera.y=c.y - s.height/2; gameState.camera.x=Math.max(0,Math.min(gameState.world.width - s.width, gameState.camera.x)); gameState.camera.y=Math.max(0,Math.min(gameState.world.height - s.height, gameState.camera.y)); document.getElementById('gameWorld').style.transform=`translate(-${gameState.camera.x}px, -${gameState.camera.y}px)`; }

    function handleObjectClick(e){ const object=e.currentTarget; const r=object.getBoundingClientRect(); const cr=document.getElementById('character').getBoundingClientRect(); const distance=Math.hypot(r.left-cr.left,r.top-cr.top); if(distance>150){ showDialogue('I need to get closer to interact with this!', []); return; } const type=object.dataset.type; if(type==='cv') openModal('cvModal'); else if(type==='social') handleSocialClick(object.dataset.platform); else if(type==='about') showAboutDialogue(); }

    function showDialogue(text,options=[]){ gameState.dialogueActive=true; const box=document.getElementById('dialogueBox'); const txt=document.getElementById('dialogueText'); const opts=document.getElementById('dialogueOptions'); txt.innerHTML=text; opts.innerHTML=''; if(options.length){ options.forEach(o=>{ const b=document.createElement('div'); b.className='dialogue-option'; b.textContent=o.text; b.onclick=o.action; opts.appendChild(b); }); } else { const b=document.createElement('div'); b.className='dialogue-option'; b.textContent='Close'; b.onclick=closeDialogue; opts.appendChild(b); } box.classList.add('active'); setControlsHidden(true); }
    function closeDialogue(){ gameState.dialogueActive=false; document.getElementById('dialogueBox').classList.remove('active'); if(document.querySelectorAll('.modal.active').length===0) setControlsHidden(false); }

    function showAboutDialogue(){
      showDialogue(
        "🌳 Hi! I'm Ali Khaqan — Strategic Assistant to the CEO by day, gym enthusiast and mentor by night. I create beginner‑friendly fitness routines, study hacks, and confidence tips for school kids and university students on Instagram. My goal: help the next generation build discipline, healthy habits, and big‑dream energy.",
        [
          { text: '💪 Fitness & Gym', action: () => showDialogue('I share simple, safe training plans, form cues, and motivation—especially for beginners who feel shy walking into a gym. Consistency > perfection!') },
          { text: '🎓 Helping kids on Instagram', action: () => showDialogue('I post reels for teens about balancing classes, workouts, and rest; plus Q&A on nutrition basics and building confidence. If one kid feels seen and starts, that’s a win.') },
          { text: '✉️ Contact me', action: () => showDialogue('📧 alikhaqan22@gmail.com<br>📱 +4917676194593<br>📍 Künzelsau, Germany<br>🌐 Instagram: @itsalikhaqan') }
        ]
      );
    }

    function handleSocialClick(platform){ const urls={ instagram:'https://www.instagram.com/itsalikhaqan', tiktok:'https://www.tiktok.com/@itsalikhaqan', linkedin:'https://www.linkedin.com/in/ali-khaqan/' }; showDialogue(`Opening ${platform.toUpperCase()}!`, [ {text:`Visit ${platform.toUpperCase()}`, action:()=>{ window.open(urls[platform],'_blank'); closeDialogue(); }}, {text:'Close', action:closeDialogue} ]); }

    function openModal(id){ closeDialogue(); document.getElementById(id).classList.add('active'); setControlsHidden(true); }
    function closeModal(id){ document.getElementById(id).classList.remove('active'); if(!gameState.dialogueActive && document.querySelectorAll('.modal.active').length===0) setControlsHidden(false); }
    function closeAllModals(){ document.querySelectorAll('.modal').forEach(m=>m.classList.remove('active')); closeDialogue(); }

    function showMenu(){ gameState.dialogueActive=true; showDialogue('🎮 GAME MENU', [ {text:'📄 View CV / Résumé', action:()=>{ closeDialogue(); openModal('cvModal'); }}, {text:'🏆 Awards', action:()=>{ closeDialogue(); openModal('awardsModal'); }}, {text:'🧰 Skills', action:()=>{ closeDialogue(); openModal('skillsModal'); }}, {text:'🌳 About Ali', action:()=>{ closeDialogue(); showAboutDialogue(); }} ] ); }
    function showHelp(){ gameState.dialogueActive=true; showDialogue('🎮 HOW TO PLAY:<br><br>• Use arrow keys or mobile controls to move around<br>• Click on objects when you\'re close to them<br>• 💻 Computer = CV/Resume<br>• 📱 Social icons = My profiles<br>• 🌳 Tree = About me<br><br>Explore and discover my professional journey!'); }

    function checkCoinPickup(){
      const c = gameState.character;
      const cb = { x:c.x, y:c.y, w:c.w, h:c.h };
      document.querySelectorAll('.coin').forEach(el => {
        const b = { x: el.offsetLeft, y: el.offsetTop, w: el.offsetWidth, h: el.offsetHeight };
        if (aabbIntersect(cb, b)) {
          el.remove();
          gameState.coins++;
          document.getElementById('coinCount').textContent = gameState.coins;
        }
      });
    }

    function setControlsHidden(h){ const ch=document.getElementById('controlsHelp'); const mc=document.getElementById('mobileControls'); if(h){ ch&&ch.classList.add('hidden'); mc&&mc.classList.add('hidden'); } else { ch&&ch.classList.remove('hidden'); mc&&mc.classList.remove('hidden'); } }

    function gameLoop(){ updateCharacter(); requestAnimationFrame(gameLoop); }

    document.addEventListener('DOMContentLoaded', initGame);
  </script>
</body>
</html>
